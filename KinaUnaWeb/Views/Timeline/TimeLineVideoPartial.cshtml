@model KinaUnaWeb.Models.ItemViewModels.VideoViewModel
@{ string durTime = ""; }
<a class="leavePage2" asp-controller="Videos" asp-action="Video" asp-route-Id="@Model.VideoId">
    <div class="card bg-primary" style="margin-top: 0; margin-bottom: 8px;">
        <div class="card-body" style="background: rgba(152, 49, 81, 0.8)">
            <div class="info-title"><span style="font-size: 18px; color: white; margin-right: 12px;" class="fas fa-video"></span><strong class="text-warning">@Model.VideoTime.Value.ToString("dd-MMM-yyyy HH:mm")</strong></div>
            <div align="center" class="img-rounded" style="overflow: hidden; max-width: 60vw; margin: 2px; margin-left: 2px; padding: 1px; width: 216px; height: 216px; background-color: #000000; text-align: center; line-height: 271px; display: inline-block; position: relative;">
                <img src="@Model.ThumbLink" style="max-height: 208px; max-width: 208px;" />
                <div class="img-rounded" style="position: absolute; height: 25px; width: 50px; bottom: 2px; right: 2px; font-size: 5px; background-color: forestgreen; display: inline-block;">
                    <p style="width: 40px; height: 20px; font-size: 12px; position: absolute; color: lightgoldenrodyellow; text-align:center; transform: translate(6px, -96px);"><i class="far fa-comment-alt"></i> @Model.CommentsCount</p>
                </div>
            </div>
            @{
                if (Model.Duration != null)
                {
                    var durationHours = Model.Duration.Value.Hours.ToString();
                    var durationMinutes = Model.Duration.Value.Minutes.ToString();
                    var durationSeconds = Model.Duration.Value.Seconds.ToString();
                    if (durationSeconds.Length == 1)
                    {
                        durationSeconds = "0" + durationSeconds;
                    }
                    if (Model.Duration.Value.Hours != 0)
                    {
                        if (durationMinutes.Length == 1)
                        {
                            durationMinutes = "0" + durationMinutes;
                        }

                    }
                    if (durationHours != "0")
                    {
                        durTime = durationHours + ":";
                    }
                    durTime = durTime + durationMinutes + ":" + durationSeconds;
                }

            }
            <div style="margin-left: 2px;">Duration: @durTime</div>
            <div style="margin-left: 2px;">
                @{
                    if (!string.IsNullOrEmpty(Model.Tags))
                    {
                        List<string> tagsList = Model.Tags.Split(',').ToList();
                        foreach (string tagString in tagsList)
                        {
                            <a asp-controller="Videos" asp-action="Index" asp-route-id="1" asp-route-tagFilter="@tagString" class="badge badge-pill badge-rose leavePage2">@tagString</a>
                        }
                    }
                }
            </div>
        </div>
    </div>
</a>
<script>
    $(document).ready(function () {
        $(".leavePage2").click(function () {
            run_waitMeLeave2();

            function run_waitMeLeave2() {
                $('body').waitMe({
                    //none, rotateplane, stretch, orbit, roundBounce, win8,
                    //win8_linear, ios, facebook, rotation, timer, pulse,
                    //progressBar, bouncePulse or img
                    effect: 'roundBounce',
                    //place text under the effect (string).
                    text: '',
                    //background for container (string).
                    bg: 'rgba(40,20,60,0.25)',
                    //color for background animation and text (string).
                    color: ['#6a5081', '#7a6095', '#8a70aa', '#9a80bb', '#aa90cc', '#bbaadd', '#ccbbee', '#ddccff', '#ccbbee', '#bbaadd', '#aa90cc', '#9a80bb', '#6a5081', '#7a6095', '#8a70aa', '#9a80bb', '#aa90cc', '#bbaadd', '#ccbbee', '#ddccff', '#ccbbee', '#bbaadd', '#aa90cc', '#9a80bb'],
                    //max size
                    maxSize: '',
                    //wait time im ms to close
                    waitTime: -1,
                    //url to image
                    source: '',
                    //or 'horizontal'
                    textPos: 'vertical',
                    //font size
                    fontSize: '',
                    // callback
                    onClose: function () { }
                });
            }
        });
    });
</script>